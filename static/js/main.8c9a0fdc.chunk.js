(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,a,t){e.exports=t(273)},208:function(e,a,t){e.exports=t.p+"static/media/sign-up-image.128e0a61.svg"},246:function(e,a,t){e.exports=t.p+"static/media/sign-in-image.48acc2bb.svg"},248:function(e,a,t){},267:function(e,a,t){},268:function(e,a,t){e.exports=t.p+"static/media/marker.9a7ac57d.svg"},269:function(e,a,t){e.exports=t.p+"static/media/delete_btn.12b0c489.svg"},270:function(e,a,t){},271:function(e,a,t){},272:function(e,a,t){},273:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(4),l=t(5),o=t(7),i=t(6),s=t(3),m=t(8),p=t(14),u=t.n(p),d=t(25),h=t(55),v=t.n(h),f=v.a.create({baseURL:"".concat("https://twstartup.herokuapp.com")});f.defaults.headers.common.access_token=localStorage.getItem("tw_token")||"Unauthorized",f.interceptors.request.use((function(e){return e.headers.authorization="bearer ".concat(localStorage.getItem("tw_token")),e}));var E=f,b=v.a.create({baseURL:"".concat("https://twstartup.herokuapp.com")}),y=t(17),N=Object(y.b)(),g=function(){return{type:"ERR_MSG_RESET"}},O=function(e){return function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.get("/api/candidate/".concat(e));case 3:n=a.sent,t({type:"FETCH_CANDI",payload:n.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),a.t0.response&&403===a.t0.response.status&&(window.location="#/login"),t({type:"FETCH_CANDI",payload:{err:a.t0.response.data.message}});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},k=function(e){return function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.get("/company/".concat(e));case 3:n=a.sent,t({type:"FETCH_COMP",payload:n.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0.response),t({type:"FETCH_COMP",payload:{err:"err.response.data.message"}});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},w=function(e,a){return function(t){return E.put("/api/company/edit/".concat(e),a).then((function(e){t({type:"EDIT_COMP",payload:e.data})})).catch((function(e){console.log(e),t({type:"EDIT_COMP",payload:{err:e.response.data.message}})}))}},j=t(275),C=t(274),I=(t(90),function(e){Object(o.a)(n,e);var a=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).onSubmit=function(a){console.log(a);var t=Object(s.a)(Object(s.a)({},a),{},{type:"normal"});console.log(t),e.props.signUp(t)},e.renderError=function(e){var a=e.error,t=e.touched,n=e.active;if(t&&a)return!n&&a.confirmPassword,r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},a))},e.renderServerErr=function(){if(e.props.errMsg)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},e.props.errMsg))},e.renderInput=function(a){var t=a.tag,n=a.input,c=a.label,l=a.placeholder,o=a.meta,i=a.type,s="required field";return o.error&&o.touched&&(s="field error"),"refer"===t&&(s="field"),console.log(s),r.a.createElement("div",{className:s},r.a.createElement("label",null,c),r.a.createElement("input",Object.assign({},n,{placeholder:l,autoComplete:"off",type:i})),e.renderError(o))},e.renderOptions=function(){if(e.props.formValues&&e.props.formValues.values){var a=e.props.formValues.values.referral;if("social_media"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"radio-select"},r.a.createElement(j.a,{name:"referral_notes",component:"input",type:"radio",value:"Facebook",tag:"refer"})," ","Facebook"),r.a.createElement("div",{className:"radio-select"},r.a.createElement(j.a,{name:"referral_notes",component:"input",type:"radio",value:"LinkedIn",tag:"refer"})," ","LinkedIn"),r.a.createElement("div",{className:"radio-select"},r.a.createElement(j.a,{name:"referral_notes",component:"input",type:"radio",value:"Other",tag:"refer"})," ","Other"));if("accelerator"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{name:"referral_notes",component:e.renderInput,type:"text",label:"please put the name of the accelerator",tag:"refer"}));if("VC"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{name:"referral_notes",component:e.renderInput,type:"text",tag:"refer",label:"please put the name of the VC"}));if("friend"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{name:"referral_notes",component:e.renderInput,type:"text",label:"please put the name",tag:"refer"}));if("other"===a)return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{name:"referral_notes",component:"textarea",tag:"refer",label:"Please specific the information."}))}},e}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.props.errMsgReset()}},{key:"render",value:function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-6 image-col"},r.a.createElement("img",{src:t(208),alt:"signup"})),r.a.createElement("div",{className:"col-xs-12 col-sm-6 auth-col"},r.a.createElement("form",{className:"error main-form",onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement("div",{className:"marketing"},r.a.createElement("div",{className:"title"},"Signup"),r.a.createElement("div",{className:"sub-title"},"bootup your ",r.a.createElement("span",{className:"primary-blue"},"startup")," now!")),r.a.createElement(j.a,{name:"name",component:this.renderInput,label:"Your Name",placeholder:"Name",type:"text"}),r.a.createElement(j.a,{name:"email",component:this.renderInput,label:"Email",placeholder:"Email",type:"email"}),r.a.createElement(j.a,{name:"password",component:this.renderInput,label:"Password",placeholder:"Password",type:"password"}),r.a.createElement(j.a,{name:"confirmPassword",component:this.renderInput,label:"Confirm Password",placeholder:"Confirm Password",type:"password"}),r.a.createElement("label",null,"Referrals (optional)"),r.a.createElement(j.a,{name:"referral",component:"select"},r.a.createElement("option",null,"choose one"),r.a.createElement("option",{value:"social_media"},"Social Media"),r.a.createElement("option",{value:"accelerator"},"Accelerator"),r.a.createElement("option",{value:"VC"},"VC"),r.a.createElement("option",{value:"friend"},"Friend"),r.a.createElement("option",{value:"other"},"Other")),this.renderOptions(),r.a.createElement("button",{className:"primary",type:"submit"},"Sign up"),this.renderServerErr())))))}}]),n}(r.a.Component)),M=Object(C.a)({form:"signUp",validate:function(e){var a={};return e.email||(a.email="You must enter an email."),e.password||(a.password="You must enter an password."),e.confirmPassword||(a.confirmPassword="Please confirm the password above."),e.password&&e.confirmPassword&&e.password!==e.confirmPassword&&(a.confirmPassword="Please make sure your password match."),a}})(I),_=Object(m.b)((function(e){var a=e.user,t=e.form;return{user:a,errMsg:a.errMsg,formValues:t.signUp}}),{signUp:function(e){return function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.post("./signup",{formValues:e});case 3:n=a.sent,t({type:"SIGN_UP",payload:n.data}),N.push("/"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"SIGN_UP",payload:{err:a.t0.response.data.message}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},errMsgReset:g})(M),x=function(e){Object(o.a)(n,e);var a=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).onSubmit=function(a){e.props.logIn(a)},e.renderError=function(e){var a=e.error,t=e.touched,n=e.active;if(t&&a)return!n&&a.confirmPassword,r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},a))},e.renderServerErr=function(){if(e.props.errMsg)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},e.props.errMsg))},e.renderInput=function(a){var t=a.tag,n=a.input,c=a.label,l=a.placeholder,o=a.meta,i=a.type,s="required field";return o.error&&o.touched&&(s="field error"),"refer"===t&&(s="field"),console.log(s),r.a.createElement("div",{className:s},r.a.createElement("label",null,c),r.a.createElement("input",Object.assign({},n,{placeholder:l,autoComplete:"off",type:i})),e.renderError(o))},e}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.props.errMsgReset()}},{key:"render",value:function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-6 image-col"},r.a.createElement("img",{src:t(246),alt:"signup"})),r.a.createElement("div",{className:"col-xs-12 col-sm-6 auth-col"},r.a.createElement("form",{className:"error main-form",onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement("div",{className:"marketing"},r.a.createElement("div",{className:"title"},"Sign in"),r.a.createElement("div",{className:"sub-title"},"continue growing your ",r.a.createElement("span",{className:"primary-blue"},"startup"))),r.a.createElement(j.a,{name:"email",component:this.renderInput,label:"Email",placeholder:"Email",type:"email"}),r.a.createElement(j.a,{name:"password",component:this.renderInput,label:"Password",placeholder:"Password",type:"password"}),r.a.createElement("button",{className:"primary",type:"submit"},"Log In"),this.renderServerErr())))))}}]),n}(r.a.Component),S=Object(C.a)({form:"logIn",validate:function(e){var a={};return e.email||(a.email="You must enter an email."),e.password||(a.password="You must enter an password."),a}})(x),P=Object(m.b)((function(e){var a=e.user;return{user:a,errMsg:a.errMsg}}),{logIn:function(e){return function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.post("./login",{formValues:e});case 3:n=a.sent,t({type:"LOG_IN",payload:n.data}),N.push("/"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0.response&&a.t0.response.status&&t({type:"LOG_IN",payload:{err:a.t0.response.data.message}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},errMsgReset:g})(S),A=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"This is Dashboard"))}}]),t}(r.a.Component),L=Object(m.b)(null)(A),T=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).clickToCompany=function(e){N.push("/company/".concat(e))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this,a=this.props.company;return console.log(a),r.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3"},r.a.createElement("div",{className:"card",onClick:function(){return e.clickToCompany(e.props.compId)}},r.a.createElement("div",{className:"image"},r.a.createElement("img",{alt:"company_logo",src:a.logo})),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"companyNameEn"},a.companyNameEn),r.a.createElement("div",{className:"companyNameChi"},a.companyNameChi),r.a.createElement("div",{className:"introduction"},a.introduction))))}}]),t}(r.a.Component),D=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).renderCompany=function(e){return e.map((function(e,a){return r.a.createElement(T,{company:e,key:e._id+a,compId:e._id})}))},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchComps()}},{key:"render",value:function(){return r.a.createElement("div",{className:"company-list-component"},r.a.createElement("div",{className:"hero-layer option-".concat(Math.floor(3*Math.random()))},r.a.createElement("div",{className:"header-title"},"Explore",r.a.createElement("span",null,"startups"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},this.renderCompany(this.props.companyList))))}}]),t}(r.a.Component),F=Object(m.b)((function(e){var a=e.user,t=e.company;return console.log("companyList",t.companylist),{email:a.email,companyList:t.companylist}}),{fetchComps:function(){return function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("/company/all");case 3:t=e.sent,a({type:"FETCH_COMPS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:"FETCH_COMPS",payload:{err:e.t0.response?e.t0.response.data.message:""}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()}})(D),V=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"apply-confirm"},r.a.createElement("div",{className:"ui grid container"},r.a.createElement("div",{className:"five wide column"}),r.a.createElement("div",{className:"six wide column"},r.a.createElement("div",{className:"ui medium header"},"Your application is confirmed."),r.a.createElement("div",{className:"confirm-text"},"We will send email to:",r.a.createElement("br",null),this.props.candidate.email," ",r.a.createElement("br",null),"after the application is approved."),r.a.createElement("button",{className:"ui button",onClick:function(){return N.push("/")}},"Back to Home")),r.a.createElement("div",{className:"five wide column"})))}}]),t}(r.a.Component),R=Object(m.b)((function(e){return{candidate:e.candidate}}))(V),U=t(26),q=t(115),H=t.n(q),B=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).approve=function(a){console.log(a.target.getAttribute("value"));var t=a.target.getAttribute("value");e.props.approveCandi(t,e.props.user._id)},e.renderCandiRow=function(){return e.props.candidates.map((function(a){return r.a.createElement("tr",{key:a._id},r.a.createElement("td",null,H()(a.createdAt).format("l")),r.a.createElement("td",null,a.companyNameEn),r.a.createElement("td",null,a.companyNameChi),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.website,style:{cursor:"pointer"}},a.website)),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.news,style:{cursor:"pointer"}},a.news)),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.other,style:{cursor:"pointer"}},a.other)),r.a.createElement("td",null,a.applicant_email),r.a.createElement("td",null,a.approver?a.approver.name:""),a.approve_status?r.a.createElement("td",null,r.a.createElement("div",{className:"ui small button disabled"},"Approved")):r.a.createElement("td",null,r.a.createElement("div",{value:"".concat(a._id),className:"ui small button",onClick:e.approve},"Approve")))}))},e.renderCandidates=function(){return console.log(e.props.candidates),r.a.createElement("table",{className:"ui collapsing unstackable table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Apply At"),r.a.createElement("th",null,"Company Name"),r.a.createElement("th",null,"\u516c\u53f8\u540d\u7a31"),r.a.createElement("th",null,"Website"),r.a.createElement("th",null,"News/Media"),r.a.createElement("th",null,"Other Material"),r.a.createElement("th",null,"Contact Email"),r.a.createElement("th",null,"Approve by"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,e.props.candidates&&e.renderCandiRow()))},e.renderReturnBtn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui medium header"},"This page required admin access. Please log in as admin or go back to home page."),r.a.createElement(U.a,{to:"/",className:"ui button primary"},"Back to home")))},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCandis()}},{key:"render",value:function(){return r.a.createElement("div",{className:"admin-dashboard"},"super"!==this.props.user.type?this.renderReturnBtn():r.a.createElement("div",{className:"ui"},this.renderCandidates()))}}]),t}(r.a.Component),G=Object(m.b)((function(e){var a=e.candidate;return{user:e.user,candidates:a.candidates,errMsg:a.errMsg}}),{fetchCandis:function(){return function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/api/candidate/all");case 3:t=e.sent,a({type:"FETCH_CANDIS",payload:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err for fetchCandis",e.t0),a({type:"FETCH_CANDIS",payload:{err:e.t0.response.data.message}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},approveCandi:function(e,a){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.post("/api/candidate/approve/".concat(e),{approverId:a});case 3:r=t.sent,n({type:"APPROVE_CANDI",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:"APPROVE_CANDI",payload:{err:t.t0.response.data.message}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},fetchCandi:O})(B),W=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).onSubmit=function(e){console.log(e)},e.renderStatus=function(){return!0===e.props.candidate.approve_status?r.a.createElement("div",{className:"ui green label"},"Approved"):r.a.createElement("div",{className:"ui yellow label"},"Pending")},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCandi(this.props.match.params.id)}},{key:"render",value:function(){return this.props.candidate?r.a.createElement("div",{className:"show-application"},r.a.createElement("div",{className:"ui grid container"},r.a.createElement("div",{className:"ui vertical segment",style:{width:"100%"}},r.a.createElement("h2",{className:"uileft floated header"},"Your Application"),r.a.createElement("div",null,this.props.candidate&&this.renderStatus()),r.a.createElement("div",{className:"ui clearing divider"}),r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"one wide column"}),r.a.createElement("div",{className:"five wide column"},r.a.createElement("div",{className:"ui small header"},"Company Name in English"),r.a.createElement("div",null,this.props.candidate.companyNameEn)),r.a.createElement("div",{className:"five wide column"},r.a.createElement("div",{className:"ui small header"},"Company Name in Chinese"),r.a.createElement("div",null,this.props.candidate.companyNameChi)),r.a.createElement("div",{className:"five wide column"},r.a.createElement("div",{className:"ui small header"},"Company Contact Email"),r.a.createElement("div",null,this.props.candidate.companyEmail)),r.a.createElement("div",{className:"one wide column"}),r.a.createElement("div",{className:"five wide column"},r.a.createElement("div",{className:"ui small header"},"Company Website"),r.a.createElement("div",null,this.props.candidate.website)),r.a.createElement("div",{className:"five wide column"},r.a.createElement("div",{className:"ui small header"},"News/Media"),r.a.createElement("div",null,this.props.candidate.news)),r.a.createElement("div",{className:"five wide column"},r.a.createElement("div",{className:"ui small header"},"Other support resource"),r.a.createElement("div",null,this.props.candidate.other)))))):r.a.createElement("div",null,"Loading")}}]),t}(r.a.Component),z=Object(m.b)((function(e){var a=e.user,t=e.candidate;e.form;return{candidateId:a.candidate,candidate:t.candidate}}),{fetchCandi:O})(W),Y=(t(248),t(79)),K=t(116),J=t.n(K),X=t(117),$=t.n(X),Q=(t(267),t(120)),Z=function(e){var a=e.src,t=e.className,c=e.identifier,l=void 0===c?"company_image_update":c,o=e.editable,i=void 0!==o&&o,s=e.query,m=void 0===s?{}:s,p=e.style,u=void 0===p?{}:p,d=e.dimension,h=void 0===d?{}:d,v=Object(n.useState)(""),f=Object(Y.a)(v,2),E=f[0],b=f[1],y=Object(n.useState)(!1),N=Object(Y.a)(y,2),g=N[0],O=N[1],k=Object(n.useCallback)((function(e,a,t){if(a){O(!0);var n=e[0],r="".concat("https://twstartup.herokuapp.com","/api/company/image?").concat($.a.stringify(t)),c=localStorage.getItem("tw_token");J.a.post(r).set("authorization","bearer ".concat(c)).attach(l,n).end((function(e,a){if(e)return console.error(e);O(!1),b(a.body.result)}))}}),[]),w=Object(Q.a)({onDrop:function(e){return k(e,i,m)}}),j=w.getRootProps,C=w.getInputProps,I=w.isDragActive;return r.a.createElement("div",null,r.a.createElement("div",Object.assign({},e,{className:"image-zone-component ".concat(t," editable-").concat(i),style:u}),i&&r.a.createElement("div",Object.assign({className:"dropzone-layer ".concat(I," isUploading-").concat(g)},j()),r.a.createElement("input",C()),r.a.createElement("div",{className:"dropzone"},!g&&r.a.createElement("div",null,r.a.createElement("i",{className:"cloud upload icon"})),!g&&r.a.createElement("div",{className:"upload-text"},"upload"),!g&&r.a.createElement("div",{className:"upload-text-dimension"},h.width||200," x ",h.height||200),g&&r.a.createElement("div",{className:"uploadingzone"},r.a.createElement("div",{className:"sk-chase"},r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}))))),r.a.createElement("img",{alt:l,src:E||a})))},ee=t(21),ae=t.n(ee),te=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).renderInput=function(e){var a=e.input,t=e.label,n=e.placeholder,c=(e.meta,e.type);return r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,t),r.a.createElement("input",Object.assign({},a,{placeholder:n,autoComplete:"off",type:c})))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.props.onSubmit)},r.a.createElement(j.a,{name:"companyNameEn",component:this.renderInput,label:"Company Name in English",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"introduction",component:this.renderInput,label:"One liner",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"companyEmail",component:this.renderInput,label:"Contact Email",placeholder:"",type:"tel"}),r.a.createElement(j.a,{name:"website",component:this.renderInput,label:"Company Website",placeholder:"",type:"text"}),r.a.createElement("div",{className:"ui small header"},"Social Links"),r.a.createElement(j.a,{name:"facebook",component:this.renderInput,label:"Facebook",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"instagram",component:this.renderInput,label:"Instagram",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"linkedIn",component:this.renderInput,label:"LinkedIn",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"twitter",component:this.renderInput,label:"Twitter",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"angelList",component:this.renderInput,label:"AngelList",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"crunchbase",component:this.renderInput,label:"Crunchbase",placeholder:"",type:"text"}),r.a.createElement("button",{className:"ui button",type:"submit"},"Submit"),r.a.createElement("div",{className:"ui button",onClick:function(){return e.props.hideModal("showProfielModal")}},"cancel"))}}]),t}(r.a.Component),ne=Object(C.a)({form:"profileForm",validate:function(e){return{}}})(te),re=t(30),ce=t.n(re),le=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).onSubmit=function(a){console.log("formValues",a);var t=ce.a.pick(a,["facebook","instagram","linkedIn","twitter","angelList","crunchbase"]),n=ce.a.pick(a,["companyNameEn","companyEmail","website"]);console.log("tosend",Object(s.a)(Object(s.a)({},n),{},{socialLinks:t})),e.props.editComp(e.props.company._id,Object(s.a)(Object(s.a)({},n),{},{socialLinks:t})),e.props.hideModal()},e.getInitialValue=function(){var a=ce.a.pick(e.props.company,["companyNameEn","introduction","companyEmail","website","socialLinks"]);return Object(s.a)(Object(s.a)({},a),{},{facebook:a.socialLinks.facebook,instagram:a.socialLinks.instagram,linkedin:a.socialLinks.linkedIn,twitter:a.socialLinks.twitter,angelList:a.socialLinks.angelList,crunchbase:a.socialLinks.crunchbase})},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return ae.a.createPortal(r.a.createElement("div",{onClick:function(){return e.props.hideModal()},className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"header"},"Edit Basic Profile"),r.a.createElement("div",{className:"content"},r.a.createElement(ne,{onSubmit:this.onSubmit,initialValues:this.getInitialValue(),hideModal:this.props.hideModal})))),document.querySelector("#modal"))}}]),t}(r.a.Component),oe=Object(m.b)((function(e){return{company:e.company.currentCompany}}),{editComp:w})(le),ie=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={showProfileModal:!1},e.renderEditbtn=function(){if(e.props.checkOwnership)return r.a.createElement("button",{onClick:function(){return e.setState({showProfileModal:!0})},className:"circular ui icon button yellow"},r.a.createElement("i",{className:"edit outline icon"}))},e.hideModal=function(){e.setState({showProfileModal:!1})},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props.company,a=e.companyNameEn,t=e.introduction,n=e.companyEmail,c=e.website,l=e.socialLinks,o=e.logo,i=e._id,s=Object.keys(l||{});return console.log(s),r.a.createElement("div",{className:"top-profile-container"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"session",style:{textAlign:"center"}},r.a.createElement(Z,{className:"company-img circle",src:o,editable:this.props.checkOwnership,query:{companyId:i,type:"logo"},dimension:{height:"250",width:"250"},style:{width:"250px"}})),r.a.createElement("div",{className:"session company-info"},r.a.createElement("div",{className:"companyNameEn"},a,this.props.company&&this.renderEditbtn()),r.a.createElement("div",{className:"introduction"},t),r.a.createElement("div",null,r.a.createElement("div",{className:"info-link highlight",onClick:function(){return window.open(c)}},r.a.createElement("i",{className:"fa fa-globe","aria-hidden":"true"}),"Website")),n&&r.a.createElement("a",{className:"info-link",href:"mailto:".concat(n),rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"})),s.map((function(e){return r.a.createElement("span",{key:e},l[e]&&r.a.createElement("a",{className:"info-link",rel:"noopener noreferrer",href:l[e],target:"_blank"},r.a.createElement("i",{className:"fa fa-".concat(e.toLowerCase()),"aria-hidden":"true"})))})),r.a.createElement("div",null))),this.state.showProfileModal&&r.a.createElement(oe,{hideModal:this.hideModal}))}}]),t}(r.a.Component),se=Object(m.b)((function(e){return{user:e.user,company:e.company.currentCompany}}),{fetchComp:k})(ie),me=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).renderInput=function(e){var a=e.input,t=e.label,n=e.placeholder,c=(e.meta,e.type);return r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,t),r.a.createElement("input",Object.assign({},a,{placeholder:n,autoComplete:"off",type:c})))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.props.onSubmit)},r.a.createElement(j.a,{name:"keyPoint_0",component:this.renderInput,label:"Key Point",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"keyPoint_1",component:this.renderInput,label:"Key Point",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"keyPoint_2",component:this.renderInput,label:"Key Point",placeholder:"",type:"text"}),r.a.createElement("button",{className:"ui button",type:"submit"},"Submit"),r.a.createElement("div",{className:"ui button",onClick:function(){return e.props.hideModal("showProfielModal")}},"cancel"))}}]),t}(r.a.Component),pe=Object(C.a)({form:"KeyPointForm",validate:function(e){return{}}})(me),ue=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).onSubmit=function(a){console.log("formValues",a);var t={keyPoints:[a.keyPoint_0,a.keyPoint_1,a.keyPoint_2]};e.props.editComp(e.props.company._id,t).then((function(){e.props.hideModal()}))},e.getInitialValue=function(){var a=ce.a.pick(e.props.company,["keyPoints"]);return{keyPoint_0:a.keyPoints[0],keyPoint_1:a.keyPoints[1],keyPoint_2:a.keyPoints[2]}},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return ae.a.createPortal(r.a.createElement("div",{onClick:function(){return e.props.hideModal()},className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active keyPoint-modal"},r.a.createElement("div",{className:"header"},"Key Points"),r.a.createElement("div",{className:"content"},r.a.createElement(pe,{onSubmit:this.onSubmit,initialValues:this.getInitialValue(),hideModal:this.props.hideModal})))),document.querySelector("#modal"))}}]),t}(r.a.Component),de=Object(m.b)((function(e){return{company:e.company.currentCompany}}),{editComp:w})(ue),he=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={showIntroModal:!1},e.renderEditbtn=function(){if(e.props.checkOwnership)return r.a.createElement("button",{onClick:function(){return e.setState({showIntroModal:!0})},className:"circular ui icon button yellow"},r.a.createElement("i",{className:"edit outline icon"}))},e.hideModal=function(){e.setState({showIntroModal:!1})},e.renderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0?e.map((function(e,a){return r.a.createElement("div",{className:"key-point-item",key:a},e)})):r.a.createElement("div",null)},e}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"intro-container"},r.a.createElement("div",{className:"key-points"},r.a.createElement("div",{className:"session-header"},"key points"),this.renderEditbtn(),this.props.company&&this.renderList(this.props.company.keyPoints)),this.state.showIntroModal&&r.a.createElement(de,{hideModal:this.hideModal}))}}]),t}(r.a.Component),ve=Object(m.b)((function(e){return{company:e.company.currentCompany}}))(he),fe=t(121),Ee=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).renderInput=function(e){var a=e.input,t=e.label,n=e.placeholder,c=(e.meta,e.type);return r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,t),r.a.createElement("input",Object.assign({},a,{placeholder:n,autoComplete:"off",type:c})))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.props.onSubmit)},r.a.createElement("div",{className:"ui header"},"1st person"),r.a.createElement(j.a,{name:"title0",component:this.renderInput,label:"Title",placeholder:"",type:"text"}),r.a.createElement("div",{className:"two fields"},r.a.createElement(j.a,{name:"firstName0",component:this.renderInput,label:"First Name",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"lastName0",component:this.renderInput,label:"Last name",placeholder:"",type:"text"})),r.a.createElement(j.a,{name:"link0",component:this.renderInput,label:"LinkedIn URL",placeholder:"",type:"text"}),r.a.createElement("div",{className:"ui header"},"2nd person"),r.a.createElement(j.a,{name:"title1",component:this.renderInput,label:"Title",placeholder:"",type:"text"}),r.a.createElement("div",{className:"two fields"},r.a.createElement(j.a,{name:"firstName1",component:this.renderInput,label:"First Name",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"lastName1",component:this.renderInput,label:"Last name",placeholder:"",type:"text"})),r.a.createElement(j.a,{name:"link1",component:this.renderInput,label:"LinkedIn URL",placeholder:"",type:"text"}),r.a.createElement("div",{className:"ui header"},"3rd person"),r.a.createElement(j.a,{name:"title2",component:this.renderInput,label:"Title",placeholder:"",type:"text"}),r.a.createElement("div",{className:"two fields"},r.a.createElement(j.a,{name:"firstName2",component:this.renderInput,label:"First Name",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"lastName2",component:this.renderInput,label:"Last name",placeholder:"",type:"text"})),r.a.createElement(j.a,{name:"link2",component:this.renderInput,label:"LinkedIn URL",placeholder:"",type:"text"}),r.a.createElement("button",{className:"ui button",type:"submit"},"Submit"),r.a.createElement("div",{className:"ui button",onClick:function(){return e.props.hideModal("showProfielModal")}},"cancel"))}}]),t}(r.a.Component),be=Object(C.a)({form:"TeamForm",validate:function(e){return{}}})(Ee),ye=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).onSubmit=function(a){var t=a.title0,n=a.title1,r=a.title2,c=a.firstName0,l=a.firstName1,o=a.firstName2,i=a.lastName0,s=a.lastName1,m=a.lastName2,p={executives:[{title:t,firstName:c,lastName:i,link:a.link0},{title:n,firstName:l,lastName:s,link:a.link1},{title:r,firstName:o,lastName:m,link:a.link2}]};console.log(p),e.props.editComp(a._id,p).then((function(){e.props.hideModal()}))},e.getInitialValue=function(){var a=ce.a.pick(e.props.company,["executives","_id"]),t=Object(fe.a)(a.executives);return Object(s.a)(Object(s.a)({},a),{},{title0:t[0].title,firstName0:t[0].firstName,lastName0:t[0].lastName,link0:t[0].link,title1:t[1].title,firstName1:t[1].firstName,lastName1:t[1].lastName,link1:t[1].link,title2:t[2].title,firstName2:t[2].firstName,lastName2:t[2].lastName,link2:t[2].link})},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return ae.a.createPortal(r.a.createElement("div",{onClick:function(){return e.props.hideModal()},className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active team-modal"},r.a.createElement("div",{className:"header"},"Key Points"),r.a.createElement("div",{className:"content"},r.a.createElement(be,{onSubmit:this.onSubmit,initialValues:this.getInitialValue(),hideModal:this.props.hideModal})))),document.querySelector("#modal"))}}]),t}(r.a.Component),Ne=Object(m.b)((function(e){return{company:e.company.currentCompany}}),{editComp:w})(ye),ge=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={showTeamModal:!1},e.hideModal=function(){e.setState({showTeamModal:!1})},e.renderEditbtn=function(){if(e.props.checkOwnership)return r.a.createElement("button",{onClick:function(){return e.setState({showTeamModal:!0})},className:"circular ui icon button yellow"},r.a.createElement("i",{className:"edit outline icon"}))},e.renderExecutive=function(a,t){if(a&&a.length>0)return a.map((function(a,n){return r.a.createElement("div",{className:"exe col-sm-12 col-md-4",key:a._id},r.a.createElement(Z,{className:"executive circle",src:a.image,type:"executive",editable:e.props.checkOwnership,query:{type:"executive",companyId:t,exeIndex:n},dimension:{width:"200",height:"200"}}),r.a.createElement("div",{className:"exe-title"},a.title),r.a.createElement("div",{className:"exe-name"},a.firstName," ",a.lastName),r.a.createElement("a",{className:"info-link",href:a.link},r.a.createElement("i",{className:"fa fa-linkedin"})),e.state.showTeamModal&&r.a.createElement(Ne,{hideModal:e.hideModal}))}))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props.company,a=e._id,t=e.executives;return r.a.createElement("div",{className:"team-container"},r.a.createElement("div",null,r.a.createElement("h2",{className:"session-header"},"Executive Team"),this.renderEditbtn()),r.a.createElement("div",{className:"team-group row"},this.renderExecutive(t,a)))}}]),t}(r.a.Component),Oe=Object(m.b)((function(e){return{company:e.company.currentCompany}}),{fetchComp:k})(ge),ke={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},we={1:31,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},je=function(e){Object(o.a)(n,e);var a=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).deleteEvent=function(){console.log(e.props.event.location),e.props.deleteEvent(e.props.compId,e.props.event._id)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.event,a=e.location,n=e.fromDay,c=e.fromMonth,l=e.toDay,o=e.toMonth,i=e.eventName,s=e.memo,m=e.link;return r.a.createElement("div",{className:"event"},r.a.createElement("div",{className:"event-card",onClick:function(){return window.open(m,"_blank")}},r.a.createElement("div",{className:"location"},r.a.createElement("img",{alt:"marker",className:"marker",src:t(268)}),a),r.a.createElement("div",{className:"time"},r.a.createElement("div",{className:"start-time"},r.a.createElement("div",{className:"day"},n),r.a.createElement("div",{className:"month"},ke[c])),r.a.createElement("div",{className:"dash"},r.a.createElement("p",null,"-")),r.a.createElement("div",{className:"end-time"},r.a.createElement("div",{className:"day"},l),r.a.createElement("div",{className:"month"},ke[o]))),r.a.createElement("div",{className:"event-name"},i),r.a.createElement("div",{className:"event-note"},s)),this.props.checkOwnership&&r.a.createElement("div",{className:"delete-btn"},r.a.createElement("img",{alt:"delete",src:t(269),onClick:this.deleteEvent})))}}]),n}(r.a.Component),Ce=Object(m.b)(null,{deleteEvent:function(e,a){return function(t){return E.delete("/api/company/deleteEvent/".concat(e,"/").concat(a)).then((function(e){t({type:"DELETE_EVENT",payload:e.data})})).catch((function(e){console.log(e),t({type:"DELETE_EVENT",payload:{err:e.response.data.message}})}))}}})(je),Ie=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).renderInput=function(e){var a=e.input,t=e.label,n=e.placeholder,c=(e.meta,e.type);return"Event Detail"===t?r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,t),r.a.createElement("textarea",Object.assign({},a,{placeholder:n,autoComplete:"off"}))):r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,t),r.a.createElement("input",Object.assign({},a,{placeholder:n,autoComplete:"off",type:c})))},e.renderMonth=function(){return Object.values(ke).map((function(e,a){return r.a.createElement("option",{value:a+1,key:e},e)}))},e.renderDay=function(e,a){var t=a[e],n=(new Date).getFullYear(),c=[];if(2===Number(t)){if(n%4===0){for(var l=0;l<29;l++)c.push(l+1);return c.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))}for(var o=0;o<30;o++)c.push(o+1);return c.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))}for(var i=0;i<we[Number(t)];i++)c.push(i+1);return c.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return console.log("in hereee",this.props.formValues),r.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.props.onSubmit)},r.a.createElement(j.a,{name:"location",component:this.renderInput,label:"Location (City)",placeholder:"",type:"text"}),r.a.createElement("div",{className:"ui small header"},"From"),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,"Month"),r.a.createElement(j.a,{name:"fromMonth",component:"select"},this.renderMonth())),r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,"Day"),r.a.createElement(j.a,{name:"fromDay",component:"select"},this.props.formValues&&this.renderDay("fromMonth",this.props.formValues.values)))),r.a.createElement("div",{className:"ui small header"},"To"),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,"Month"),r.a.createElement(j.a,{name:"toMonth",component:"select"},this.renderMonth())),r.a.createElement("div",{className:"required field"},r.a.createElement("label",null,"Day"),r.a.createElement(j.a,{name:"toDay",component:"select"},this.props.formValues&&this.renderDay("toMonth",this.props.formValues.values)))),r.a.createElement(j.a,{name:"eventName",component:this.renderInput,label:"Event Name",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"memo",component:this.renderInput,label:"Event Detail",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"link",component:this.renderInput,label:"Event Link",placeholder:"",type:"text"}),r.a.createElement("button",{className:"ui button",type:"submit"},"Submit"),r.a.createElement("div",{className:"ui button",onClick:function(){return e.props.hideModal("showProfielModal")}},"cancel"))}}]),t}(r.a.Component),Me=Object(C.a)({form:"EventForm",validate:function(e){return{}}})(Ie),_e=Object(m.b)((function(e){return{formValues:e.form.EventForm}}))(Me),xe=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).onSubmit=function(a){console.log("formValues",a),e.props.addEvent(a.compId,a).then((function(){e.props.hideModal()}))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return ae.a.createPortal(r.a.createElement("div",{onClick:function(){return e.props.hideModal()},className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active event-modal"},r.a.createElement("div",{className:"header"},"Add New Event"),r.a.createElement("div",{className:"content"},r.a.createElement(_e,{onSubmit:this.onSubmit,initialValues:{fromMonth:1,fromday:1,toMonth:1,toDay:1,compId:this.props.company._id},hideModal:this.props.hideModal})))),document.querySelector("#modal"))}}]),t}(r.a.Component),Se=Object(m.b)((function(e){return{company:e.company.currentCompany}}),{addEvent:function(e,a){return function(t){return E.put("/api/company/addEvent/".concat(e),a).then((function(e){t({type:"ADD_EVENT",payload:e.data})})).catch((function(e){console.log(e),t({type:"ADD_EVENT",payload:{err:e.response.data.message}})}))}}})(xe),Pe=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={showEventModal:!1},e.renderEventCard=function(){if(e.props.company.events&&e.props.company.events.length>0)return e.props.company.events.map((function(a){return r.a.createElement(Ce,{key:a._id,event:a,checkOwnership:e.props.checkOwnership,compId:e.props.company._id})}))},e.hideModal=function(){e.setState({showEventModal:!1})},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"event-container"},r.a.createElement("div",{className:"event-title"},"Event"),r.a.createElement("div",{className:"event-group"},this.renderEventCard(),this.props.checkOwnership&&r.a.createElement("div",{className:"event-add",onClick:function(){return e.setState({showEventModal:!0})}},"Add New Event")),this.state.showEventModal&&r.a.createElement(Se,{hideModal:this.hideModal}))}}]),t}(r.a.Component),Ae=Object(m.b)((function(e){return{company:e.company.currentCompany}}))(Pe),Le=(t(270),function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).renderProfileEditbtn=function(){if(e.checkOwnership())return r.a.createElement("button",{onClick:function(){return e.setState({showProfileModal:!0})},className:"circular ui icon button"},r.a.createElement("i",{className:"edit outline icon"}))},e.renderUploadProfilebtn=function(){if(e.checkOwnership())return r.a.createElement("button",{onClick:function(){return e.setState({showUploadProfileModal:!0})},className:"circular ui icon button"},r.a.createElement("i",{className:"edit outline icon"}))},e.checkOwnership=function(){var a=e.props,t=a.user,n=a.company;return"super"===t.type||t._id&&n.owners&&n.owners.indexOf(t._id)>-1},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("going to fetch comp"),this.props.fetchComp(this.props.match.params.id)}},{key:"render",value:function(){if(console.log("this.props.company",this.props.company),!this.props.company)return r.a.createElement("div",null,"Loading");var e=this.props.company,a=e.bannerImg,t=e._id;return r.a.createElement("div",{className:"component-details-component container"},r.a.createElement(se,{checkOwnership:this.checkOwnership()}),r.a.createElement(ve,{checkOwnership:this.checkOwnership()}),r.a.createElement("h2",{className:"session-header"},"Banner"),r.a.createElement(Z,{className:"banner-img",src:a,editable:this.checkOwnership(),query:{companyId:t,type:"bannerImg"},dimension:{width:1e3,height:600},style:{maxWidth:"1000px",width:"100%",height:"600px"}}),r.a.createElement(Oe,{checkOwnership:this.checkOwnership()}),r.a.createElement(Ae,{checkOwnership:this.checkOwnership()}))}}]),t}(r.a.Component)),Te=Object(m.b)((function(e){return{user:e.user,company:e.company.currentCompany}}),{fetchComp:k})(Le),De=(t(271),function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).handleLogOut=function(){e.props.logOut()},e.renderBtn=function(a,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nav-item highlight"},r.a.createElement(U.a,{className:"",to:a},t)),r.a.createElement("div",{className:"nav-item"},r.a.createElement("div",{className:"",onClick:e.handleLogOut},"Log out")))},e.renderNav=function(){if(e.props.user.isLogIn){if("normal"!==e.props.user.type||e.props.user.candidate||e.props.candidate.candidate){if("normal"!==e.props.user.type||e.props.user.company)return"normal"===e.props.user.type?e.renderBtn("/company/".concat(e.props.user.company),"My Company"):e.renderBtn("/admin/dashboard","Admin Dashboard");var a=e.props.user.candidate?e.props.user.candidate:e.props.candidate.candidate._id;return e.renderBtn("/application/".concat(a),"See your application")}return e.renderBtn("/apply/".concat(e.props.user._id),"Add a company")}return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:"login",to:"/login"},r.a.createElement("div",{className:"nav-item"},"Log In")),r.a.createElement(U.a,{className:"signup",to:"/signup"},r.a.createElement("div",{className:"nav-item highlight"},"Sign Up")))},e}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui menu global-navbar"},r.a.createElement(U.a,{to:"/"},r.a.createElement("div",{className:"logo"},"TW",r.a.createElement("span",null,"startups"))),r.a.createElement("div",{className:"right menu"},this.renderNav()))}}]),t}(r.a.Component)),Fe=Object(m.b)((function(e){return{user:e.user,candidate:e.candidate}}),{logOut:function(){return function(e){N.push("/"),e({type:"LOG_OUT"})}}})(De),Ve=t(13),Re=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).renderError=function(e){var a=e.error,t=e.touched;e.active;if(t&&a)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},a))},e.renderServerErr=function(){if(e.props.errMsg)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},e.props.errMsg))},e.renderInput=function(a){var t=a.input,n=a.label,c=a.placeholder,l=a.meta,o=a.type,i="required field";return l.error&&l.touched&&(i="required field error"),"Additional support items"!==n&&"Company Name in Chinese"!==n&&"News/Media link"!==n||(i="field"),r.a.createElement("div",{className:i},r.a.createElement("label",null,n),r.a.createElement("input",Object.assign({},t,{plazceholder:c,autoComplete:"off",type:o,className:e.props.classForInput?e.props.classForInput:""})),e.renderError(l))},e.onSubmit=function(a){e.props.onSubmit(a)},e}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"candidate-form"},r.a.createElement("div",{className:"ui grid container"},r.a.createElement("div",{className:"five wide column"}),r.a.createElement("div",{className:"six wide column"},r.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement("div",{className:"ui huge header"},this.props.header),r.a.createElement("div",{className:"ui medium header"},"Basic Information"),r.a.createElement(j.a,{name:"companyNameEn",component:this.renderInput,label:"Company Name in English",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"companyNameChi",component:this.renderInput,label:"Company Name in Chinese",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"companyEmail",component:this.renderInput,label:"Contact Email",placeholder:"",type:"tel"}),r.a.createElement("div",{className:"ui medium header"},"Supporting Resource for Review"),r.a.createElement(j.a,{name:"website",component:this.renderInput,label:"Company Website",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"news",component:this.renderInput,label:"News/Media link",placeholder:"",type:"text"}),r.a.createElement(j.a,{name:"other",component:this.renderInput,label:"Additional support items",placeholder:"",type:"text"}),r.a.createElement("button",{className:"ui button",type:"submit"},"Submit"),this.renderServerErr())),r.a.createElement("div",{className:"five wide column"})))}}]),t}(r.a.Component),Ue=Object(C.a)({form:"candidateForm",validate:function(e){var a={};return e.companyNameEn||(a.companyNameEn="Please enter an English company name."),e.companyNameChi||(a.companyNameChi="Please enter a Chinese company name."),e.website||(a.website="Please provide a website."),e.news||(a.news="Please provide a news."),e.companyEmail||(a.companyEmail="Please enter an email."),e.companyEmail&&!e.companyEmail.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)&&(a.companyEmail="Please enter a valid email."),a}})(Re),qe=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).onSubmit=function(a){console.log(a),e.props.createCandi(a)},e}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui grid container"},r.a.createElement(Ue,{onSubmit:this.onSubmit,header:"About your company..."}))}}]),t}(r.a.Component),He=Object(m.b)(null,{createCandi:function(e){return function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.post("/api/candidate/create",{formValues:e});case 3:n=a.sent,t({type:"CREATE_CANDI",payload:n.data}),console.log("here after candi"),N.push("/apply/success"),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response),403===a.t0.response.status&&(window.location="#/login"),t({type:"CREATE_CANDI",payload:{err:a.t0.response.data.message}});case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})(qe),Be=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("tw_token");e&&this.props.fetchUser(e)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,null),r.a.createElement(Ve.c,null,r.a.createElement(Ve.a,{exact:!0,path:"/",component:F}),r.a.createElement(Ve.a,{path:"/signup",component:_}),r.a.createElement(Ve.a,{path:"/login",component:P}),r.a.createElement(Ve.a,{path:"/dashboard/:id",component:L}),r.a.createElement(Ve.a,{exact:!0,path:"/admin/dashboard",component:G}),r.a.createElement(Ve.a,{path:"/apply/success",component:R}),r.a.createElement(Ve.a,{exact:!0,path:"/apply/:id",component:He}),r.a.createElement(Ve.a,{path:"/application/:id",component:z}),r.a.createElement(Ve.a,{path:"/company/:id",render:function(e){return r.a.createElement(Te,Object.assign({key:e.match.params.id},e))}})))}}]),t}(r.a.Component),Ge=Object(m.b)((function(e){return{email:e.user.email}}),{fetchUser:function(){return function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("./profile");case 3:t=e.sent,a({type:"FETCH_USER",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()}})(Be),We=(t(272),t(119)),ze=t(12),Ye={email:null,_id:null,type:null,errMsg:null,candidate:null,isLogIn:!1,company:null},Ke={errMsg:null,email:null,candidate:null,candidates:null},Je=t(276),Xe={errMsg:null,companylist:[],currentCompany:{}},$e=Object(ze.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_UP":case"LOG_IN":return a.payload.err?Object(s.a)(Object(s.a)({},e),{},{errMsg:a.payload.err}):(localStorage.setItem("tw_token",a.payload.token),Object(s.a)(Object(s.a)(Object(s.a)({},e),a.payload.user),{},{isLogIn:!0}));case"LOG_OUT":return localStorage.removeItem("tw_token"),Object(s.a)({},Ye);case"ERR_MSG_RESET":return Object(s.a)(Object(s.a)({},e),{},{errMsg:null});case"FETCH_USER":return Object(s.a)(Object(s.a)(Object(s.a)({},e),a.payload.user),{},{isLogIn:!0});default:return e}},form:Je.a,candidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CREATE_CANDI":case"FETCH_CANDI":return a.payload.err?Object(s.a)(Object(s.a)({},e),{},{errMsg:a.payload.err}):Object(s.a)(Object(s.a)({},e),{},{candidate:a.payload.candidate,email:a.payload.candidate.companyEmail});case"FETCH_CANDIS":return a.payload.err?Object(s.a)(Object(s.a)({},e),{},{errMsg:a.payload.err}):Object(s.a)(Object(s.a)({},e),{},{candidates:a.payload.candidates});case"APPROVE_CANDI":return a.payload.err?Object(s.a)(Object(s.a)({},e),{},{errMsg:a.payload.err}):Object(s.a)(Object(s.a)({},e),{},{candidate:a.payload.candidate,candidates:a.payload.candidates});default:return e}},company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_COMPS":return a.payload.err?Object(s.a)(Object(s.a)({},e),{},{errMsg:a.payload.err}):Object(s.a)(Object(s.a)({},e),{},{companylist:a.payload.companies});case"FETCH_COMP":case"EDIT_COMP":case"ADD_EVENT":case"DELETE_EVENT":return a.payload.err?Object(s.a)(Object(s.a)({},e),{},{errMsg:a.payload.err}):Object(s.a)(Object(s.a)({},e),{},{currentCompany:a.payload.company});default:return e}}}),Qe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ze.d,Ze=Object(ze.e)($e,Qe(Object(ze.a)(We.a)));ae.a.render(r.a.createElement(m.a,{store:Ze},r.a.createElement(Ve.b,{history:N},r.a.createElement(Ge,{history:N}))),document.getElementById("root"))},90:function(e,a,t){}},[[122,1,2]]]);
//# sourceMappingURL=main.8c9a0fdc.chunk.js.map